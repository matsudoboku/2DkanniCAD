<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
  <title>2DCAD Webアプリ（スマホUI・タブ・複数選択移動）</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- タブ -->
  <div id="tabs">
    <button id="tabDraw" class="tab-btn tab-on">描画</button>
    <button id="tabEdit" class="tab-btn">編集</button>
    <button id="tabDim" class="tab-btn">注記・寸法</button>
    <button id="tabFile" class="tab-btn">ファイル</button>
  </div>
  <!-- ツールバー：戻る・進むは共通で左端に常時表示 -->
  <div id="toolbar">
    <button class="icon-btn" id="undoBtn" title="戻る">&#8630;</button>
    <button class="icon-btn" id="redoBtn" title="進む">&#8631;</button>
    <!-- 描画グループ -->
    <div id="drawGroup" class="tab-group tab-active">
      <span>縮尺:</span>
      <select id="scaleSelect" class="select-scale">
        <option value="20">1:20</option>
        <option value="100" selected>1:100</option>
        <option value="200">1:200</option>
        <option value="500">1:500</option>
        <option value="1000">1:1000</option>
      </select>
      <label>x <input class="input-box" type="number" id="dx" value="0.3" step="0.01" style="width:40px"></label>
      <label>y <input class="input-box" type="number" id="dy" value="0.5" step="0.01" style="width:40px"></label>
      <span>（m）</span>
      <button class="btn" id="addLineBtn" disabled>線を追加</button>
      <button class="btn" id="bisectLineBtn">両側線</button>
      <button class="btn" id="twoptBtn">2点線</button>
      <button class="btn" id="trapBtn">台形</button>
      <button class="btn" id="refBtn">基準点</button>
    </div>
    <!-- 編集グループ -->
    <div id="editGroup" class="tab-group">
      <button class="btn" id="multiSelectBtn">複数選択</button>
      <button class="btn" id="moveBtn">移動</button>
      <button class="btn" id="editLineBtn">線端延長/縮小</button>
      <button class="btn" id="deleteBtn">削除</button>
    </div>
    <!-- 寸法/注記グループ -->
    <div id="dimGroup" class="tab-group">
      <button class="btn" id="dimBtn">寸法線</button>
      <button class="btn" id="addTextBtn">テキスト</button>
    </div>
    <!-- ファイルグループ -->
    <div id="fileGroup" class="tab-group">
      <button class="btn" id="dxfBtn">DXF出力</button>
      <button class="btn" id="clearBtn">全消去</button>
    </div>
  </div>
  <canvas id="canvas"></canvas>
  <a id="dxfDownload"></a>
  <input type="text" id="textInput">
  <div id="modalBg"><div id="modalBox"></div></div>
  <div id="statusBar"></div>
  <script src="app.js"></script>
</body>
</html>
